<!DOCTYPE HTML>
<html>
    <head>
        <title>Home page</title>
    </head>
    <body>
        <p>TODO List: </p>
        <input type="text" id="todo">
        <button id="addBtn">Add</button>
        <button id="removeBtn">Remove</button>
        <br>
        <button id="countBtn">Count TODOs</button>
        <p id="counter">TODOs Count: </p>
        <br>
        <a href="./page.html">
            <button>Go to next page!</button>
        </a>
    </body>
    <script>
        var count = 0;

        function handleClick() {
            const input = document.getElementById("todo");
            let value = input.value;
            const newP = document.createElement("p");
            const newContent = document.createTextNode(value);
            newP.appendChild(newContent);
            document.body.insertBefore(newP, input);
            if (value !== "") {
                count++;
            }
            input.value = "";
        }

        function handleRemove() {
            const input = document.getElementById("todo");
            let pTags = document.getElementsByTagName("p");
            let searchText = input.value;
            let found;
            for (let i = 0; i < pTags.length; ++i)
            {
                if (pTags[i].textContent === searchText) {
                    found = pTags[i];
                    break;
                }
            }
            found.remove();
            if (searchText !== "") {
                count--;
            }
            input.value = "";
        }

        function handleCount() {
            let paragraph = document.getElementById("counter");
            paragraph.innerHTML = "TODOS Count: ";
            let text = document.createTextNode(count.toString());
            paragraph.appendChild(text);
        }

        document.getElementById("addBtn").addEventListener("click", handleClick);
        document.getElementById("removeBtn").addEventListener("click", handleRemove);
        document.getElementById("countBtn").addEventListener("click", handleCount);
    </script>
</html>